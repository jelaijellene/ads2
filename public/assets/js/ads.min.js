(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b;g=angular.module("ads",["phonecatFilters","restService"]),g.config(["$routeProvider",function(e){var t;return t="/assets/partials/user",e.when("/",{templateUrl:""+t+"/index.html",controller:d}).when("/products",{templateUrl:"/assets/partials/product-list.html",controller:l}).when("/product/:phoneId",{templateUrl:"/assets/partials/phone-detail.html",controller:u}).when("/catalog",{templateUrl:""+t+"/catalog.html",controller:p}).when("/cart",{templateUrl:""+t+"/cart.html",controller:h}).when("/profile",{templateUrl:""+t+"/profile.html",controller:v}).otherwise({redirectTo:"/"})}]),m=angular.module("admin",["restService"]),m.config(["$routeProvider",function(o){return o.when("/",{templateUrl:"/assets/partials/admin-index.html"}).when("/products",{templateUrl:"/assets/partials/products.html",controller:a}).when("/product/:id",{templateUrl:"/assets/partials/product-detail.html",controller:f}).when("/brand",{templateUrl:"/assets/partials/brand.html",controller:e}).when("/brand/:id",{templateUrl:"/assets/partials/brand-detail.html",controller:t}).when("/company",{templateUrl:"/assets/partials/company.html",controller:i}).when("/company/:id",{templateUrl:"/assets/partials/company-detail.html",controller:s}).when("/category",{templateUrl:"/assets/partials/category.html",controller:n}).when("/category/:id",{templateUrl:"/assets/partials/category-detail.html",controller:r}).when("/catalog").when("/orders").when("/dealers").when("/reports").when("/sms").otherwise({redirectTo:"/"}),this}]),y=angular.module("phonecatFilters",[]),y.filter("startFrom",function(){return function(e,t){return angular.isArray(e)?e.slice(t):e}}),l=["$scope","$http","$filter",function(e,t,n){return t.get("/product/all.json").success(function(t){return e.products=t}),this}],u=["$scope","$routeParams",function(e,t){return e.phoneId=t.phoneId,e.spinner=!0,e.hello=function(t){return e.msg="hello "+t,e.spinner=!1},this}],a=["$scope","$http",function(e,t){return t.get("/product/all.json").success(function(t){return e.products=t,e.spinner=!1}),t.get("/company/all.json").success(function(t){return e.companies=t}),t.get("/category/all.json").success(function(t){return e.categories=t}),t.get("/brand/all.json").success(function(t){return e.brands=t}),e.limit=20,e.saved=!1,e.spinner=!0,e.cancel=function(){return e.product={}},e.submit=function(){return console.log(JSON.stringify(e.product)),t.post("/product/new.json",JSON.stringify(e.product)).success(function(t){return e.saved=!0,e.products.push(t),e.product={},this})},e["delete"]=function(n){return t["delete"]("/product/"+n+".json").success(function(){return t.get("/product/all.json").success(function(t){return e.products=t,this})}),this},this}],f=["$scope","$routeParams","$http",function(e,t,n){return n.get("/product/"+t.id+".json").success(function(t){return e.product=t,e.spinner=!1}),n.get("/company/all.json").success(function(t){return e.companies=t}),n.get("/category/all.json").success(function(t){return e.categories=t}),n.get("/brand/all.json").success(function(t){return e.brands=t}),e.id=t.id,e.spinner=!0,e.saved=!1,e.submit=function(){return console.log(JSON.stringify(e.product)),n.post("/product/"+e.id+".json",JSON.stringify(e.product)).success(function(){return e.saved=!0,this})},this}],e=["$scope","$http",function(e,t){return t.get("/brand/all.json").success(function(t){return e.brands=t}),e["delete"]=function(n){return t["delete"]("/brand/"+n+".json").success(function(){return t.get("/brand/all.json").success(function(t){return e.brands=t})})},e.submit=function(){return t.post("/brand/new.json",JSON.stringify(e.brand)).success(function(t){return e.brands.push(t),e.brand={}})},this}],t=["$scope","$http","$routeParams","Brand",function(e,t,n,r){return e.id=n.id,t.get("/brand/"+e.id+".json").success(function(t){return e.brand=t}),e.caption="Cancel",e.products=r.products({id:e.id}),e.submit=function(){return t.post("/brand/"+e.id+".json",JSON.stringify(e.brand)).success(function(){return e.saved=!0,e.caption="Back"})}}],i=["$scope","$http",function(e,t){return t.get("/company/all.json").success(function(t){return e.companies=t}),e["delete"]=function(n){return t["delete"]("/company/"+n+".json").success(function(){return t.get("/company/all.json").success(function(t){return e.companies=t,this}),this})},this,e.submit=function(){return t.post("/company/new.json",JSON.stringify(e.company)).success(function(t){return e.companies.push(t),e.company={},this})}}],s=["$scope","$routeParams","$http",function(e,t,n){return n.get("/company/"+t.id+".json").success(function(t){return e.company=t}),e.caption="Cancel",e.submit=function(){return n.post("/company/"+t.id+".json",JSON.stringify(e.company)).success(function(){return e.saved=!0,e.caption="Back"})}}],n=["$scope","$http",function(e,t){return t.get("/category/all.json").success(function(t){return e.categories=t}),e["delete"]=function(n){return t["delete"]("/category/"+n+".json").success(function(){return t.get("/category/all.json").success(function(t){return e.categories=t}),this}),this},this,e.submit=function(){return t.post("/category/new.json",JSON.stringify(e.category)).success(function(t){return e.categories.push(t),e.category={},this})}}],r=["$scope","$routeParams","$http",function(e,t,n){return n.get("/category/"+t.id+".json").success(function(t){return e.category=t}),e.caption="Cancel",e.submit=function(){return n.post("/category/"+t.id+".json",JSON.stringify(e.category)).success(function(){return e.saved=!0,e.caption="Back"})}}],p=["$scope","Brand",function(e,t){return this}],d=["$scope","$http",function(e,t){return this}],h=["$scope",function(e){return this}],v=["$scope","$http",function(e,t){return t.get("/profile").success(function(t){return e.profile=t}),this,e.submit=function(){return t.post("/profile",JSON.stringify(e.profile)).success(function(t){return e.profile=t,e.saved=!0,console.log(t)}),this}}],o=["$scope",function(e){return e.order=3,this}],c=["$scope","$http",function(e,t){return e.login=!1,e.check_username=function(){var n;return n=e.user.username,console.log(n),n===void 0?(e.username_invalid=!1,e.username_valid=!1,e.username_state="error"):t.get("/check/"+n).error(function(){return e.valid=!0,e.username_state="success",e.username_valid=!0,e.username_invalid=!1,console.log("valid username")}).success(function(){return e.valid=!1,e.username_state="error",e.username_invalid=!0,e.username_valid=!1,console.log("username already taken")})},e.confirm=function(){return e.user.password!==void 0?e.user.password===e.user.password_confirm?(e.password_state="success",e.password_valid=!0,console.log("equal")):(e.password_state="error",e.password_valid=!1,console.log("not equal")):(e.password_state="error",e.password_valid=!1)},e.submit=function(){var n;return e.profile.birthday=""+e.profile.bday.month+"/"+e.profile.bday.day+"/"+e.profile.bday.year,n={user:e.user,profile:e.profile},n=JSON.stringify(n),t.post("/user",n).success(function(t){return e.user={},e.profile={},e.login=!0}).error(function(){return e.failed=!0}),console.log(n)}}],g.controller("RegisterCtrl",c),g.controller("MenuCtrl",o),b=angular.module("restService",["ngResource"]),b.factory("Product",function(e){return e("/product/:id.json",{id:"@id"},{query:{method:"GET",params:{id:"all"},isArray:!0}})}),b.factory("Brand",function(e){return e("/brand/:id.json/:products",{id:"@id"},{query:{method:"GET",params:{id:"all"},isArray:!0},products:{method:"GET",params:{products:"products"},isArray:!0}})})}).call(this);